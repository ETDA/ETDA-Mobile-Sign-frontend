[{"D:\\etdasign-rancher\\e-signdocument_frontend\\src\\index.js":"1","D:\\etdasign-rancher\\e-signdocument_frontend\\src\\App.js":"2","D:\\etdasign-rancher\\e-signdocument_frontend\\src\\reportWebVitals.js":"3","D:\\etdasign-rancher\\e-signdocument_frontend\\src\\style\\theme\\theme.js":"4","D:\\etdasign-rancher\\e-signdocument_frontend\\src\\layout\\Navbar.js":"5","D:\\etdasign-rancher\\e-signdocument_frontend\\src\\page\\demo\\index.js":"6"},{"size":677,"mtime":1647926490908,"results":"7","hashOfConfig":"8"},{"size":459,"mtime":1647926490907,"results":"9","hashOfConfig":"8"},{"size":375,"mtime":1647926490912,"results":"10","hashOfConfig":"8"},{"size":189,"mtime":1647926490913,"results":"11","hashOfConfig":"8"},{"size":2102,"mtime":1647926490909,"results":"12","hashOfConfig":"8"},{"size":70172,"mtime":1647926490911,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1422wwo",{"filePath":"16","messages":"17","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"18","messages":"19","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"20","messages":"21","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"22","messages":"23","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"24","messages":"25","errorCount":0,"fatalErrorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":"26"},"D:\\etdasign-rancher\\e-signdocument_frontend\\src\\index.js",[],"D:\\etdasign-rancher\\e-signdocument_frontend\\src\\App.js",[],"D:\\etdasign-rancher\\e-signdocument_frontend\\src\\reportWebVitals.js",[],"D:\\etdasign-rancher\\e-signdocument_frontend\\src\\style\\theme\\theme.js",[],"D:\\etdasign-rancher\\e-signdocument_frontend\\src\\layout\\Navbar.js",[],"D:\\etdasign-rancher\\e-signdocument_frontend\\src\\page\\demo\\index.js",["27","28","29","30","31","32","33","34","35","36","37","38"],"import React, { useCallback } from \"react\";\r\n\r\nimport PropTypes from \"prop-types\";\r\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\r\nimport clsx from \"clsx\";\r\nimport Stepper from \"@material-ui/core/Stepper\";\r\nimport Step from \"@material-ui/core/Step\";\r\nimport StepLabel from \"@material-ui/core/StepLabel\";\r\nimport Check from \"@material-ui/icons/Check\";\r\nimport * as Icon from \"react-bootstrap-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport CloudUploadIcon from \"@material-ui/icons/CloudUpload\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport MuiDialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport MuiDialogContent from \"@material-ui/core/DialogContent\";\r\nimport MuiDialogActions from \"@material-ui/core/DialogActions\";\r\nimport QrcodeDecoder from \"qrcode-decoder\";\r\nimport Countdown from \"react-countdown\";\r\nimport Base64Downloader from \"react-base64-downloader\";\r\n\r\nimport {\r\n  Container,\r\n  Paper,\r\n  Button,\r\n  CardContent,\r\n  CardActions,\r\n  Chip,\r\n} from \"@material-ui/core\";\r\n\r\nimport {\r\n  faFilePdf,\r\n  faFileSignature,\r\n  faFileCode,\r\n  faListAlt,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { isMobile } from \"react-device-detect\";\r\n\r\nimport StepConnector from \"@material-ui/core/StepConnector\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { useDropzone } from \"react-dropzone\";\r\nimport \"react-dropzone-uploader/dist/styles.css\";\r\nimport \"./demo.css\";\r\nimport axios from \"axios\";\r\nimport swal from \"sweetalert\";\r\nimport Select from \"react-select\";\r\nimport MuiAlert from \"@material-ui/lab/Alert\";\r\nimport { render } from \"@testing-library/react\";\r\nimport download from \"downloadjs\";\r\nvar fileDownload = require(\"js-file-download\");\r\n\r\nvar rqid = \"\";\r\nconst DialogContent = withStyles((theme) => ({\r\n  root: {\r\n    padding: theme.spacing(2),\r\n  },\r\n}))(MuiDialogContent);\r\n\r\nlet closeCount = 0;\r\nlet filename = \"0\";\r\nlet timeCount = null;\r\n\r\nconst DialogActions = withStyles((theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(1),\r\n  },\r\n}))(MuiDialogActions);\r\n\r\nconst useQontoStepIconStyles = makeStyles({\r\n  root: {\r\n    color: \"#eaeaf0\",\r\n    display: \"flex\",\r\n    height: 22,\r\n    alignItems: \"center\",\r\n  },\r\n  active: {\r\n    color: \"#784af4\",\r\n  },\r\n  circle: {\r\n    width: 8,\r\n    height: 8,\r\n    borderRadius: \"50%\",\r\n    backgroundColor: \"currentColor\",\r\n  },\r\n  completed: {\r\n    color: \"#784af4\",\r\n    zIndex: 1,\r\n    fontSize: 18,\r\n  },\r\n});\r\n\r\nfunction QontoStepIcon(props) {\r\n  const classes = useQontoStepIconStyles();\r\n  const { active, completed } = props;\r\n\r\n  return (\r\n    <div\r\n      className={clsx(classes.root, {\r\n        [classes.active]: active,\r\n      })}\r\n    >\r\n      {completed ? (\r\n        <Check className={classes.completed} />\r\n      ) : (\r\n        <div className={classes.circle} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nQontoStepIcon.propTypes = {\r\n  /**\r\n   * Whether this step is active.\r\n   */\r\n  active: PropTypes.bool,\r\n  /**\r\n   * Mark the step as completed. Is passed to child components.\r\n   */\r\n  completed: PropTypes.bool,\r\n};\r\n\r\nconst ColorlibConnector = withStyles({\r\n  alternativeLabel: {\r\n    top: 22,\r\n  },\r\n  active: {\r\n    \"& $line\": {\r\n      backgroundColor: \"#rgba(0, 0, 0, 0.87)\",\r\n    },\r\n  },\r\n  completed: {\r\n    \"& $line\": {\r\n      backgroundColor: \"#3f51b5\",\r\n    },\r\n  },\r\n  line: {\r\n    height: 3,\r\n    border: 0,\r\n    backgroundColor: \"#eaeaf0\",\r\n    borderRadius: 1,\r\n  },\r\n})(StepConnector);\r\n\r\nconst useColorlibStepIconStyles = makeStyles((theme) => ({\r\n  root: {\r\n    backgroundColor: \"#ccc\",\r\n    zIndex: 1,\r\n    color: \"#fff\",\r\n    width: 50,\r\n    height: 50,\r\n    display: \"flex\",\r\n    borderRadius: \"50%\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n  active: {\r\n    backgroundColor: \"#rgba(0, 0, 0, 0.87)\",\r\n  },\r\n  completed: {\r\n    backgroundColor: \"#3f51b5\",\r\n  },\r\n}));\r\n\r\nfunction Alert(props) {\r\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\nfunction ColorlibStepIcon(props) {\r\n  const classes = useColorlibStepIconStyles();\r\n  const { active, completed } = props;\r\n\r\n  const icons = {\r\n    1: <Icon.FileEarmarkText />,\r\n    2: <FontAwesomeIcon icon={faListAlt} />,\r\n    3: <FontAwesomeIcon icon={faFileSignature} />,\r\n    4: <FontAwesomeIcon icon={faFileSignature} />,\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={clsx(classes.root, {\r\n        [classes.active]: active,\r\n        [classes.completed]: completed,\r\n      })}\r\n    >\r\n      {icons[String(props.icon)]}\r\n    </div>\r\n  );\r\n}\r\n\r\nColorlibStepIcon.propTypes = {\r\n  /**\r\n   * Whether this step is active.\r\n   */\r\n  active: PropTypes.bool,\r\n  /**\r\n   * Mark the step as completed. Is passed to child components.\r\n   */\r\n  completed: PropTypes.bool,\r\n  /**\r\n   * The label displayed in the step icon.\r\n   */\r\n  icon: PropTypes.node,\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  textAlignC: {\r\n    textAlign: \"center\",\r\n  },\r\n  textAlignCdb: {\r\n    textAlign: \"right\",\r\n    display: \"block\",\r\n  },\r\n\r\n  root: {\r\n    width: \"100%\",\r\n  },\r\n  button: {\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  instructions: {\r\n    marginTop: theme.spacing(1),\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(3),\r\n    marginBottom: theme.spacing(3),\r\n    padding: theme.spacing(2),\r\n    [theme.breakpoints.up(600 + theme.spacing(3) * 2)]: {\r\n      marginTop: theme.spacing(6),\r\n      marginBottom: theme.spacing(6),\r\n      padding: theme.spacing(3),\r\n    },\r\n  },\r\n  layout: {\r\n    width: \"auto\",\r\n    marginLeft: theme.spacing(2),\r\n    marginRight: theme.spacing(2),\r\n    [theme.breakpoints.up(600 + theme.spacing(2) * 2)]: {\r\n      width: 800,\r\n      marginLeft: \"auto\",\r\n      marginRight: \"auto\",\r\n    },\r\n  },\r\n  test: {\r\n    flex: \"1\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    padding: \"20px\",\r\n    borderWidth: \"2px\",\r\n    borderRadius: \"2px\",\r\n    borderColor: \"#eeeeee\",\r\n    borderStyle: \"dashed\",\r\n    backgroundColor: \"#fafafa\",\r\n    color: \"#bdbdbd\",\r\n    outline: \"none\",\r\n    transition: \"border .24s ease-in-out\",\r\n  },\r\n  ColorRed: {\r\n    color: \"#ff0000\",\r\n    paddingTop: \"15px\",\r\n    paddingBottom: \"15px\",\r\n  },\r\n  pdtb15: {\r\n    paddingTop: \"15px\",\r\n    paddingBottom: \"15px\",\r\n  },\r\n  title: {\r\n    color: \"#000000\",\r\n  },\r\n  textAlignCenter: {\r\n    textAlign: \"center\",\r\n  },\r\n  fixWidth: {\r\n    // minWidth: \"600px\",\r\n  },\r\n  textW: {\r\n    color: \"#ffffff\",\r\n  },\r\n}));\r\n\r\nfunction getSteps() {\r\n  return [\"อัปโหลด\", \"ลงลายมือชื่ออิเล็กทรอนิกส์\"];\r\n}\r\n\r\nexport function step1() {\r\n  return \"s\";\r\n}\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    position: \"absolute\",\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n});\r\n\r\nconst DialogTitle = withStyles(styles)((props) => {\r\n  const { children, classes, onClose, ...other } = props;\r\n  return (\r\n    <MuiDialogTitle\r\n      disableTypography\r\n      className={[classes.root, classes.textAlignCenter]}\r\n      {...other}\r\n    >\r\n      <Typography variant=\"h6\">{children}</Typography>\r\n    </MuiDialogTitle>\r\n  );\r\n});\r\n\r\nexport default function CustomizedSteppers() {\r\n  const classes = useStyles();\r\n  const [activeStep, setActiveStep] = React.useState(1);\r\n  // const [activeQr, setActiveQr] = React.useState(0);\r\n  const [selectedValue, setSelectedValue] = React.useState(\"\");\r\n  const [openNext1, setOpenNext1] = React.useState(0);\r\n\r\n  const [timeCount, setTimeCount] = React.useState(0);\r\n\r\n  const [dataFile, setDataFile] = React.useState({\r\n    _id: \"\",\r\n    name: \"\",\r\n    file: \"\",\r\n    userId: \"\",\r\n    ext: \"\",\r\n    createdAt: \"\",\r\n    qrcode: \"\",\r\n    refNumber: \"\",\r\n    requestId: \"\",\r\n    requestToken: \"\",\r\n    signedDocument: \"\",\r\n    base64: \"\",\r\n  });\r\n\r\n  const [qrData, setQrData] = React.useState(\"\");\r\n\r\n  const [open, setOpen] = React.useState(false);\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const steps = getSteps();\r\n\r\n  const handleNext = () => {\r\n    setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    console.log(\"componentDidUpdateFunction\");\r\n  }, []);\r\n\r\n  const getBase64 = (file) => {\r\n    return new Promise((resolve) => {\r\n      let fileInfo;\r\n      let baseURL = \"\";\r\n      // Make new FileReader\r\n      let reader = new FileReader();\r\n\r\n      // Convert the file to base64 text\r\n      reader.readAsDataURL(file);\r\n\r\n      // on reader load somthing...\r\n      reader.onload = () => {\r\n        // Make a fileInfo Object\r\n        console.log(\"Called\", reader);\r\n        baseURL = reader.result;\r\n        console.log(baseURL);\r\n        resolve(baseURL);\r\n      };\r\n      console.log(fileInfo);\r\n    });\r\n  };\r\n\r\n  const handleNextStep1 = () => {\r\n    let fileData = null;\r\n    let base64 = \"\";\r\n    let type = \"PDF\";\r\n    let data_signing_request = {};\r\n    let splitdata = [];\r\n    var file_EXT = \"\";\r\n\r\n    acceptedFiles.forEach((file) => {\r\n      // console.log(file);\r\n      file_EXT = file.type;\r\n      if (file.type === \"text/xml\") {\r\n        type = \"XML\";\r\n      }\r\n      fileData = file;\r\n      // console.log(formData);\r\n    });\r\n\r\n    getBase64(fileData)\r\n      .then((result) => {\r\n        splitdata = result.split(\",\");\r\n        console.log(\"splitdata\", splitdata);\r\n        console.log(\"splitdata0\", splitdata[1]);\r\n\r\n        base64 = splitdata[1];\r\n        data_signing_request = {\r\n          document_category: type,\r\n          document: base64,\r\n        };\r\n\r\n        console.log(data_signing_request);\r\n        console.log(JSON.stringify(data_signing_request));\r\n\r\n        var config = {\r\n          method: \"post\",\r\n          url: process.env.REACT_APP_API_SIGNING_REQUEST,\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          data: JSON.stringify({\r\n            document_category: type,\r\n            document: base64,\r\n          }),\r\n        };\r\n\r\n        axios(config)\r\n          .then(function (response) {\r\n            // console.log(JSON.stringify(response.data));\r\n            // console.log(\"response.data\", response.data.data);\r\n\r\n            if (response.data.status === \"accept\") {\r\n              var qr = new QrcodeDecoder();\r\n\r\n              qr.decodeFromImage(response.data.qrcode).then((res) => {\r\n                console.log(\"data\", res);\r\n                console.log(\"qr\", res.data);\r\n                setQrData(res.data);\r\n                var dataSp = res.data.split(\";\");\r\n                console.log(\"dataSp 1\", dataSp[1]);\r\n                console.log(\"dataSp 2\", dataSp[2]);\r\n                console.log(\"dataSp 3\", dataSp[3]);\r\n\r\n                rqid = dataSp[1];\r\n\r\n                setDataFile({\r\n                  ...dataFile,\r\n                  qrcode: response.data.qrcode,\r\n                  refNumber: dataSp[3],\r\n                  requestId: dataSp[1],\r\n                  requestToken: dataSp[2],\r\n                  signedDocument: null,\r\n                  base64: null,\r\n\r\n                  ext: file_EXT,\r\n                });\r\n                handleClickOpen();\r\n                closeCount = 0;\r\n                setTimeCount(0);\r\n                console.log(\"handleClickOpen\");\r\n\r\n                setTimeout(() => {\r\n                  pollUntilDone(500, 60 * 1000)\r\n                    .then(function (result) {\r\n                      setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n                      console.log(\r\n                        \"signed_document = \",\r\n                        result.data.signed_document\r\n                      );\r\n\r\n                      var dataSps = result.data.signed_document.split(\",\");\r\n\r\n                      setDataFile({\r\n                        ...dataFile,\r\n                        base64: result.data.signed_document,\r\n                        signedDocument:\r\n                          \"data:\" +\r\n                          file_EXT +\r\n                          \";base64,\" +\r\n                          result.data.signed_document,\r\n                        type: type,\r\n                        ext: file_EXT,\r\n                      });\r\n\r\n                      handleClose();\r\n                      console.log(\"pollUntilDone result\", result);\r\n                      // have final result here\r\n                    })\r\n                    .catch(function (err) {\r\n                      console.log(\"err =\", err);\r\n                      if (err === \"Error: connection\") {\r\n                        swal(\"API CONNECTION\", \"ติดต่อ API ไม่ได้\", \"warning\");\r\n                      } else {\r\n                        swal({\r\n                          title: \"Reject\",\r\n                          text: \"Timeout\",\r\n                          icon: \"warning\",\r\n                          closeOnClickOutside: false,\r\n                          closeOnEsc: false,\r\n                          buttons: {\r\n                            cancel: false,\r\n                            catch: false,\r\n                            OK: true,\r\n                          },\r\n                        }).then((willDelete) => {\r\n                          if (willDelete) {\r\n                            handleNextStep1();\r\n                            setTimeCount(1);\r\n                          } else {\r\n                          }\r\n                        });\r\n                      }\r\n                      // handle error here\r\n                    });\r\n                }, 2000);\r\n              });\r\n            } else {\r\n              swal(response.data.status, response.data.description, \"warning\");\r\n            }\r\n          })\r\n          .catch(function (error) {\r\n            if (error.response) {\r\n              /*\r\n               * The request was made and the server responded with a\r\n               * status code that falls out of the range of 2xx\r\n               */\r\n              console.log(\"error.reques.data\", error.response.data);\r\n              console.log(\"error.reques.status\", error.response.status);\r\n              console.log(\"error.reques.headers\", error.response.headers);\r\n            } else if (error.request) {\r\n              /*\r\n               * The request was made but no response was received, `error.request`\r\n               * is an instance of XMLHttpRequest in the browser and an instance\r\n               * of http.ClientRequest in Node.js\r\n               */\r\n              console.log(\"error.reques\", error.request);\r\n            } else {\r\n              // Something happened in setting up the request and triggered an Error\r\n\r\n              console.log(\"error.message\", error.request);\r\n            }\r\n            console.log(\"error.config\", error.config);\r\n\r\n            swal(\"API CONNECTION\", \"ติดต่อ API ไม่ได้\", \"warning\");\r\n            // console.log(error);\r\n          });\r\n\r\n        // base64 = result.substr(result.indexOf(\",\") + 1);\r\n        console.log(\"base64\", result);\r\n        console.log(\"File Is\", fileData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const handleNextStep2 = () => {\r\n    var config = {\r\n      method: \"post\",\r\n      url: process.env.REACT_APP_API_SIGNING_REQUEST,\r\n    };\r\n    axios(config)\r\n      .then(function (response) {\r\n        const dataFiles = {\r\n          _id: response.data.data._id,\r\n          name: response.data.data.name,\r\n          file: response.data.data.file,\r\n          userId: response.data.data.userId,\r\n          ext: response.data.data.ext,\r\n          createdAt: response.data.data.createdAt,\r\n          qrcode: response.data.data.qrcode,\r\n          refNumber: response.data.data.refNumber,\r\n          requestId: response.data.data.requestId,\r\n          requestToken: response.data.data.requestToken,\r\n          signedDocument: response.data.data.signedDocument,\r\n          base64: response.data.data.signedDocument,\r\n        };\r\n        console.log(\"signing_request dataFiles\", dataFiles);\r\n        setDataFile({\r\n          ...dataFiles,\r\n        });\r\n        handleClickOpen();\r\n      })\r\n      .catch(function (error) {\r\n        if (error.response) {\r\n          /*\r\n           * The request was made and the server responded with a\r\n           * status code that falls out of the range of 2xx\r\n           */\r\n          console.log(\"error.reques.data\", error.response.data);\r\n          console.log(\"error.reques.status\", error.response.status);\r\n          console.log(\"error.reques.headers\", error.response.headers);\r\n        } else if (error.request) {\r\n          /*\r\n           * The request was made but no response was received, `error.request`\r\n           * is an instance of XMLHttpRequest in the browser and an instance\r\n           * of http.ClientRequest in Node.js\r\n           */\r\n          console.log(\"error.reques\", error.request);\r\n        } else {\r\n          // Something happened in setting up the request and triggered an Error\r\n\r\n          console.log(\"error.message\", error.request);\r\n        }\r\n        console.log(\"error.config\", error.config);\r\n        swal(\"API CONNECTION\", \"ติดต่อ API ไม่ได้\", \"warning\");\r\n      });\r\n  };\r\n\r\n  const delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\r\n\r\n  function pollUntilDone(interval, timeout) {\r\n    let start = Date.now();\r\n    function run() {\r\n      return handleNextStep3()\r\n        .then(function (dataResult) {\r\n          console.log(\"pollUntilDone\", dataResult);\r\n          if (dataResult.data.result === \"accept\") {\r\n            // we know we're done here, return from here whatever you\r\n            // want the final resolved value of the promise to be\r\n            return dataResult;\r\n          } else {\r\n            if (closeCount === 1) {\r\n              throw new Error(\"timeout error on pollUntilDone\");\r\n            } else {\r\n              // run again with a short delay\r\n              return delay(interval).then(run);\r\n            }\r\n          }\r\n        })\r\n        .catch(function (error) {\r\n          if (error.response) {\r\n            /*\r\n             * The request was made and the server responded with a\r\n             * status code that falls out of the range of 2xx\r\n             */\r\n            if (error.response.status === 500) {\r\n              if (closeCount === 1) {\r\n                throw new Error(\"timeout error on pollUntilDone\");\r\n              } else {\r\n                // run again with a short delay\r\n                return delay(interval).then(run);\r\n              }\r\n            }\r\n            console.log(\"error.reques.data\", error.response.data);\r\n            console.log(\"error.reques.status\", error.response.status);\r\n            console.log(\"error.reques.headers\", error.response.headers);\r\n          } else if (error.request) {\r\n            console.log(\"error.reques\", error.request);\r\n            throw new Error(\"connection\");\r\n\r\n            /*\r\n             * The request was made but no response was received, `error.request`\r\n             * is an instance of XMLHttpRequest in the browser and an instance\r\n             * of http.ClientRequest in Node.js\r\n             */\r\n          } else {\r\n            // Something happened in setting up the request and triggered an Error\r\n            console.log(\"error.message\", error.request);\r\n            throw new Error(\"connection\");\r\n          }\r\n        });\r\n    }\r\n    return run();\r\n  }\r\n\r\n  // interval is how often to poll\r\n  // timeout is how long to poll waiting for a result (0 means try forever)\r\n  // url is the URL to request\r\n\r\n  const handleNextStep3 = () => {\r\n    // eslint-disable-next-line react-hooks/rules-of-hooks\r\n    console.log(\"handleNextStep3\", dataFile);\r\n    var config = {\r\n      method: \"post\",\r\n      url: process.env.REACT_APP_API_SIGNED_REQUEST,\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      data: JSON.stringify({\r\n        request_id: rqid,\r\n      }),\r\n    };\r\n    return axios(config);\r\n  };\r\n\r\n  const handleReset = () => {\r\n    window.location.reload();\r\n  };\r\n\r\n  // create the blob object with content-type \"application/pdf\"\r\n\r\n  function b64toBlob(b64Data, contentType) {\r\n    contentType = contentType || \"\";\r\n    var sliceSize = 512;\r\n    b64Data = b64Data.replace(/^[^,]+,/, \"\");\r\n    b64Data = b64Data.replace(/\\s/g, \"\");\r\n    var byteCharacters = window.atob(b64Data);\r\n    var byteArrays = [];\r\n\r\n    for (var offset = 0; offset < byteCharacters.length; offset += sliceSize) {\r\n      var slice = byteCharacters.slice(offset, offset + sliceSize);\r\n\r\n      var byteNumbers = new Array(slice.length);\r\n      for (var i = 0; i < slice.length; i++) {\r\n        byteNumbers[i] = slice.charCodeAt(i);\r\n      }\r\n\r\n      var byteArray = new Uint8Array(byteNumbers);\r\n\r\n      byteArrays.push(byteArray);\r\n    }\r\n\r\n    var blob = new Blob(byteArrays, { type: contentType });\r\n    return blob;\r\n  }\r\n\r\n  const downloadFile2 = () => {\r\n    // window.location.reload();\r\n    // href={dataFile.signedDocument}\r\n    // download={filename + \"_signed\"}\r\n    console.log(filename + \"_signed.\" + dataFile.type);\r\n    console.log(dataFile.signedDocument);\r\n    console.log(dataFile.ext);\r\n\r\n    let ft = \"pdf\";\r\n    if (dataFile.type === \"XML\") {\r\n      ft = \"xml\";\r\n    }\r\n    console.log(\"base64 \" + dataFile.base64);\r\n    var b64 = dataFile.base64;\r\n    var bin = atob(b64);\r\n    console.log(\"File Size:\", Math.round(bin.length / 1024), \"KB\");\r\n    // console.log(\"PDF Version:\", bin.match(/^.PDF-([0-9.]+)/)[1]);\r\n    // Insert a link that allows the user to download the PDF file\r\n    var link = document.createElement(\"a\");\r\n    link.innerHTML = \"Download PDF file\";\r\n    link.download = filename + \"_signed.\" + ft;\r\n    link.href = \"data:application/octet-stream;base64,\" + b64;\r\n    link.hidden = true;\r\n    document.body.appendChild(link);\r\n    link.click();\r\n  };\r\n\r\n  const downloadFile = () => {\r\n    // window.location.reload();\r\n    // href={dataFile.signedDocument}\r\n    // download={filename + \"_signed\"}\r\n    console.log(filename + \"_signed.\" + dataFile.type);\r\n    console.log(dataFile.signedDocument);\r\n    console.log(dataFile.ext);\r\n\r\n    let ft = \"pdf\";\r\n    if (dataFile.type === \"XML\") {\r\n      ft = \"xml\";\r\n    }\r\n\r\n    // data should be your response data in base64 format\r\n    fileDownload(\r\n      b64toBlob(dataFile.signedDocument),\r\n      filename + \"_signed.\" + ft\r\n    );\r\n\r\n    // const blob = b64toBlob(dataFile.signedDocument, \"application/octet-stream\");\r\n    // const blobUrl = URL.createObjectURL(blob);\r\n    // window.location = blobUrl;\r\n\r\n    // base64 string\r\n\r\n    // decode base64 string, remove space for IE compatibility\r\n\r\n    // var url = dataFile.signedDocument;\r\n    // fetch(url)\r\n    //   .then((res) => res.blob())\r\n    //   .then((res) => console.log(res.blob()));\r\n\r\n    // let blob = new Blob([view], { type: \"application/pdf\" });\r\n    // let url = URL.createObjectURL(blob);\r\n    // console.log(url);\r\n\r\n    // ftype = \"\";\r\n    // if (type === \"XML\") {\r\n    //   ftype = \"XML\";\r\n    // } else {\r\n    //   ftype = \"XML\";\r\n    // }\r\n    // fileData = file;\r\n\r\n    // download(\r\n    //   \"data:application/pdf;base64,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CmVuZG9iagoKOSAwIG9iago8PC9UeXBlL0ZvbnQvU3VidHlwZS9UcnVlVHlwZS9CYXNlRm9udC9CQUFBQUErQXJpYWwtQm9sZE1UCi9GaXJzdENoYXIgMAovTGFzdENoYXIgMTEKL1dpZHRoc1s3NTAgNzIyIDYxMCA4ODkgNTU2IDI3NyA2NjYgNjEwIDMzMyAyNzcgMjc3IDU1NiBdCi9Gb250RGVzY3JpcHRvciA3IDAgUgovVG9Vbmljb2RlIDggMCBSCj4+CmVuZG9iagoKMTAgMCBvYmoKPDwKL0YxIDkgMCBSCj4+CmVuZG9iagoKMTEgMCBvYmoKPDwvRm9udCAxMCAwIFIKL1Byb2NTZXRbL1BERi9UZXh0XT4+CmVuZG9iagoKMSAwIG9iago8PC9UeXBlL1BhZ2UvUGFyZW50IDQgMCBSL1Jlc291cmNlcyAxMSAwIFIvTWVkaWFCb3hbMCAwIDU5NSA4NDJdL0dyb3VwPDwvUy9UcmFuc3BhcmVuY3kvQ1MvRGV2aWNlUkdCL0kgdHJ1ZT4+L0NvbnRlbnRzIDIgMCBSPj4KZW5kb2JqCgoxMiAwIG9iago8PC9Db3VudCAxL0ZpcnN0IDEzIDAgUi9MYXN0IDEzIDAgUgo+PgplbmRvYmoKCjEzIDAgb2JqCjw8L1RpdGxlPEZFRkYwMDQ0MDA3NTAwNkQwMDZEMDA3OTAwMjAwMDUwMDA0NDAwNDYwMDIwMDA2NjAwNjkwMDZDMDA2NT4KL0Rlc3RbMSAwIFIvWFlaIDU2LjcgNzczLjMgMF0vUGFyZW50IDEyIDAgUj4+CmVuZG9iagoKNCAwIG9iago8PC9UeXBlL1BhZ2VzCi9SZXNvdXJjZXMgMTEgMCBSCi9NZWRpYUJveFsgMCAwIDU5NSA4NDIgXQovS2lkc1sgMSAwIFIgXQovQ291bnQgMT4+CmVuZG9iagoKMTQgMCBvYmoKPDwvVHlwZS9DYXRhbG9nL1BhZ2VzIDQgMCBSCi9PdXRsaW5lcyAxMiAwIFIKPj4KZW5kb2JqCgoxNSAwIG9iago8PC9BdXRob3I8RkVGRjAwNDUwMDc2MDA2MTAwNkUwMDY3MDA2NTAwNkMwMDZGMDA3MzAwMjAwMDU2MDA2QzAwNjEwMDYzMDA2ODAwNkYwMDY3MDA2OTAwNjEwMDZFMDA2RTAwNjkwMDczPgovQ3JlYXRvcjxGRUZGMDA1NzAwNzIwMDY5MDA3NDAwNjUwMDcyPgovUHJvZHVjZXI8RkVGRjAwNEYwMDcwMDA2NTAwNkUwMDRGMDA2NjAwNjYwMDY5MDA2MzAwNjUwMDJFMDA2RjAwNzIwMDY3MDAyMDAwMzIwMDJFMDAzMT4KL0NyZWF0aW9uRGF0ZShEOjIwMDcwMjIzMTc1NjM3KzAyJzAwJyk+PgplbmRvYmoKCnhyZWYKMCAxNgowMDAwMDAwMDAwIDY1NTM1IGYgCjAwMDAwMTE5OTcgMDAwMDAgbiAKMDAwMDAwMDAxOSAwMDAwMCBuIAowMDAwMDAwMjI0IDAwMDAwIG4gCjAwMDAwMTIzMzAgMDAwMDAgbiAKMDAwMDAwMDI0NCAwMDAwMCBuIAowMDAwMDExMTU0IDAwMDAwIG4gCjAwMDAwMTExNzYgMDAwMDAgbiAKMDAwMDAxMTM2OCAwMDAwMCBuIAowMDAwMDExNzA5IDAwMDAwIG4gCjAwMDAwMTE5MTAgMDAwMDAgbiAKMDAwMDAxMTk0MyAwMDAwMCBuIAowMDAwMDEyMTQwIDAwMDAwIG4gCjAwMDAwMTIxOTYgMDAwMDAgbiAKMDAwMDAxMjQyOSAwMDAwMCBuIAowMDAwMDEyNDk0IDAwMDAwIG4gCnRyYWlsZXIKPDwvU2l6ZSAxNi9Sb290IDE0IDAgUgovSW5mbyAxNSAwIFIKL0lEIFsgPEY3RDc3QjNEMjJCOUY5MjgyOUQ0OUZGNUQ3OEI4RjI4Pgo8RjdENzdCM0QyMkI5RjkyODI5RDQ5RkY1RDc4QjhGMjg+IF0KPj4Kc3RhcnR4cmVmCjEyNzg3CiUlRU9GCg==\",\r\n    //   filename + \"_signed.\" + ft,\r\n    //   \"application/pdf\"\r\n    // );\r\n  };\r\n\r\n  const deeplink = () => {\r\n    // window.location.reload();\r\n    var encodedString = btoa(qrData);\r\n    console.log(\"mobilesign://qrcode/\" + encodedString); // Outputs: \"SGVsbG8gV29ybGQh\"\r\n    // Decode the String\r\n    // var decodedString = atob(encodedString);\r\n    // console.log(decodedString); // Outputs: \"Hello World!\"\r\n    window.open(\"mobilesign://qrcode/\" + encodedString, \"_blank\");\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setSelectedValue(e.value);\r\n  };\r\n\r\n  const onDrop = useCallback((acceptedFiles, fileRejections, event) => {\r\n    console.log(\"onDrop acceptedFiles\", acceptedFiles);\r\n    console.log(\"onDrop fileRejections\", fileRejections);\r\n    console.log(\"onDrop event\", event);\r\n\r\n    if (acceptedFiles.length > 0) {\r\n      setOpenNext1(1);\r\n    } else {\r\n      swal({\r\n        text: \"กรุณาเลือก หรือ วางไฟล์ เอกสารประเภท XML หรือ PDF\",\r\n        icon: \"warning\",\r\n        dangerMode: true,\r\n      }).then((willDelete) => {\r\n        setOpenNext1(0);\r\n      });\r\n    }\r\n\r\n    if (fileRejections.length > 1) {\r\n      swal({\r\n        text: \"กรุณาเลือก หรือ วางไฟล์ เอกสารประเภท XML หรือ PDF เพียง 1 ไฟล์\",\r\n        icon: \"warning\",\r\n        dangerMode: true,\r\n      }).then((willDelete) => {\r\n        setOpenNext1(0);\r\n      });\r\n    }\r\n    // Do something with the files\r\n  }, []);\r\n\r\n  const onDropRejected = (fileRejections, event) => {\r\n    console.log(\"onDropRejected\", acceptedFiles);\r\n    console.log(\"onDropRejected\", event);\r\n\r\n    // Do something with the files\r\n  };\r\n  const onDropAccepted = (fileRejections, event) => {\r\n    // console.log(\"onDropAccepted\", fileRejections);\r\n    // console.log(\"onDropAccepted\", event);\r\n    // Do something with the files\r\n  };\r\n\r\n  const {\r\n    getRootProps,\r\n    getInputProps,\r\n    acceptedFiles,\r\n    isDragActive,\r\n    isDragAccept,\r\n    isDragReject,\r\n  } = useDropzone({\r\n    noKeyboard: true,\r\n    accept: [\".pdf\", \".xml\"],\r\n    maxFiles: 1,\r\n    onDrop,\r\n    onDropRejected,\r\n    onDropAccepted,\r\n  });\r\n\r\n  const files = acceptedFiles.map((file) => {\r\n    let fname = file.name.split(\".\");\r\n    filename = fname[0];\r\n    return <span key={file.path}>{file.path}</span>;\r\n  });\r\n  const dropzoneRef = React.createRef();\r\n  const openDialog = () => {\r\n    // Note that the ref is set async,\r\n    // so it might be null at some point\r\n    if (dropzoneRef.current) {\r\n      dropzoneRef.current.open();\r\n    }\r\n  };\r\n\r\n  const renderer = ({ hours, minutes, seconds, completed }) => {\r\n    if (completed) {\r\n      // Render a completed state\r\n\r\n      stopcountdown();\r\n      return (\r\n        <Typography component=\"span\" variant=\"h6\">\r\n          <span>\r\n            {hours}:{minutes}:{seconds}\r\n          </span>\r\n        </Typography>\r\n      );\r\n    } else {\r\n      // Render a countdown\r\n      return (\r\n        <Typography component=\"span\" variant=\"h6\">\r\n          <span>\r\n            {hours}:{minutes}:{seconds}\r\n          </span>\r\n        </Typography>\r\n      );\r\n    }\r\n  };\r\n\r\n  const stopcountdown = () => {\r\n    console.log(\"stopcountdown\");\r\n    closeCount = 1;\r\n  };\r\n\r\n  var encodedString = btoa(qrData);\r\n\r\n  React.useEffect(() => {\r\n    console.log(\"useEffect\", dataFile);\r\n    if (isMobile) {\r\n      console.log(\"This content is unavailable on mobile\");\r\n    } else {\r\n      console.log(\"not mobile\");\r\n    }\r\n  }, [dataFile]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <main className={classes.layout}>\r\n        <Paper className={classes.paper}>\r\n          <div className={classes.root}>\r\n            <h2> ขั้นตอนการลงลายมือชื่ออิเล็กทรอนิกส์ </h2>\r\n            <Stepper\r\n              alternativeLabel\r\n              activeStep={activeStep}\r\n              connector={<ColorlibConnector />}\r\n            >\r\n              {steps.map((label) => (\r\n                <Step key={label}>\r\n                  <StepLabel StepIconComponent={ColorlibStepIcon}>\r\n                    {label}\r\n                  </StepLabel>\r\n                </Step>\r\n              ))}\r\n            </Stepper>\r\n            <div>\r\n              {activeStep === steps.length ? (\r\n                <div>\r\n                  <Paper className={classes.paper}>\r\n                    <Typography component=\"span\" variant=\"h6\">\r\n                      {\" \"}\r\n                      ดาวน์โหลด Signed Document: ขั้นตอนที่ 2 - 2{}\r\n                    </Typography>\r\n\r\n                    <CardContent component={\"div\"}>\r\n                      {dataFile.signedDocument ? (\r\n                        <Typography\r\n                          component=\"div\"\r\n                          className={classes.title}\r\n                          color=\"textSecondary\"\r\n                          gutterBottom\r\n                        >\r\n                          <Alert\r\n                            severity=\"success\"\r\n                            className={classes.textAlignC}\r\n                          >\r\n                            <div\r\n                              style={{\r\n                                display: \"flex\",\r\n                                alignItems: \"center\",\r\n                                flexWrap: \"wrap\",\r\n                              }}\r\n                            >\r\n                              <span className=\"fa-layers fa-fw\">\r\n                                {dataFile.ext === \"application/pdf\" ? (\r\n                                  <FontAwesomeIcon icon={faFilePdf} />\r\n                                ) : (\r\n                                  <FontAwesomeIcon icon={faFileCode} />\r\n                                )}\r\n                              </span>\r\n                              <span>\r\n                                {\" \"}\r\n                                {/* console.log(filename + \"_signed.\" +\r\n                                dataFile.type);\r\n                                console.log(dataFile.signedDocument);\r\n                                console.log(dataFile.ext); */}\r\n                                <span>\r\n                                  {/* <a\r\n                                    className={classes.textW}\r\n                                    onClick={downloadFile}\r\n                                  >\r\n                                    downloadFile Function Base64{\" \"}\r\n                                  </a>\r\n                                  <br />\r\n                                  <br /> */}\r\n                                  <a\r\n                                    className={classes.textW}\r\n                                    onClick={downloadFile2}\r\n                                  >\r\n                                    Signed Document File{\" \"}\r\n                                  </a>\r\n                                  {/* \r\n                                  <br />\r\n                                  <br />\r\n                                  <a\r\n                                    rel=\"noreferrer\"\r\n                                    className={classes.textW}\r\n                                    target=\"_blank\"\r\n                                    download={filename + \"_signed.jpg\"}\r\n                                    href={\r\n                                      \"https://www.matichon.co.th/wp-content/uploads/2017/08/The-Ten_Air-Jordan-I-x-Virgil-Abloh.jpg\"\r\n                                    }\r\n                                  >\r\n                                    Signed Document File URL image{\" \"}\r\n                                  </a>\r\n                                  <br />\r\n                                  <br />\r\n                                  <a\r\n                                    rel=\"noreferrer\"\r\n                                    target=\"_blank\"\r\n                                    className={classes.textW}\r\n                                    href={\r\n                                      \"data:image/jpeg;base64,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\"\r\n                                    }\r\n                                    download={filename + \"_signed.jpg\"}\r\n                                  >\r\n                                    Signed Document Base46 image{\" \"}\r\n                                  </a>\r\n                                  <br />\r\n                                  <br />\r\n                                  <a\r\n                                    rel=\"noreferrer\"\r\n                                    target=\"_blank\"\r\n                                    className={classes.textW}\r\n                                    href={dataFile.signedDocument}\r\n                                    download={filename + \"_signed\"}\r\n                                  >\r\n                                    Signed Document Base46 pdf{\" \"}\r\n                                  </a>\r\n                                  <br />\r\n                                  <br />\r\n                                  <a\r\n                                    rel=\"noreferrer\"\r\n                                    className={classes.textW}\r\n                                    target=\"_blank\"\r\n                                    download={filename + \"_signed\"}\r\n                                    href={\r\n                                      \"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf\"\r\n                                    }\r\n                                  >\r\n                                    Signed Document File URL pdf{\" \"}\r\n                                  </a> */}\r\n                                </span>\r\n                              </span>\r\n                            </div>\r\n                          </Alert>\r\n                        </Typography>\r\n                      ) : null}\r\n                    </CardContent>\r\n\r\n                    {/* <hr /> */}\r\n                  </Paper>\r\n                  <CardActions className={classes.textAlignCdb}>\r\n                    <Button\r\n                      color=\"primary\"\r\n                      onClick={handleReset}\r\n                      variant=\"contained\"\r\n                      className={classes.button}\r\n                    >\r\n                      อัปโหลดเอกสารอีกครั้ง\r\n                    </Button>\r\n\r\n                    {dataFile.qrcode === undefined ? (\r\n                      <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        onClick={handleNextStep2}\r\n                        className={classes.button}\r\n                      >\r\n                        Signing Request\r\n                      </Button>\r\n                    ) : null}\r\n                  </CardActions>\r\n                </div>\r\n              ) : (\r\n                <div>\r\n                  <Typography component=\"div\" className={classes.instructions}>\r\n                    {activeStep === 1 ? (\r\n                      <Paper className={classes.paper}>\r\n                        <Typography variant=\"h6\">\r\n                          ตัวอย่างแบบฟอร์มเพื่ออัปโหลดเอกสาร : ขั้นตอนที่ 1 - 2\r\n                        </Typography>\r\n                        <br />\r\n\r\n                        <div className={classes.test}>\r\n                          <Container\r\n                            {...getRootProps({})}\r\n                            className={classes.textAlignC}\r\n                          >\r\n                            <input {...getInputProps()} />\r\n                            <Typography\r\n                              component=\"div\"\r\n                              className={classes.ColorRed}\r\n                            >\r\n                              <Button\r\n                                color=\"primary\"\r\n                                onClick={openDialog}\r\n                                variant=\"contained\"\r\n                                startIcon={<CloudUploadIcon />}\r\n                              >\r\n                                Upload\r\n                              </Button>\r\n                            </Typography>\r\n                            {isDragAccept && (\r\n                              <Typography className={classes.ColorRed}>\r\n                                All files will be accepted\r\n                              </Typography>\r\n                            )}\r\n                            {isDragReject && (\r\n                              <Typography className={classes.ColorRed}>\r\n                                กรุณาเลือก หรือ วางไฟล์ เอกสารประเภท XML หรือ\r\n                                PDF ที่นี่\r\n                              </Typography>\r\n                            )}\r\n\r\n                            {!isDragActive && acceptedFiles.length === 0 && (\r\n                              <Typography className={classes.ColorRed}>\r\n                                กรุณาเลือก หรือ วางไฟล์ เอกสารประเภท XML หรือ\r\n                                PDF ที่นี่\r\n                              </Typography>\r\n                            )}\r\n\r\n                            {!isDragActive && acceptedFiles.length > 0 && (\r\n                              <Typography\r\n                                component={\"div\"}\r\n                                className={classes.pdtb15}\r\n                              >\r\n                                <Alert severity=\"info\">{files}</Alert>\r\n                              </Typography>\r\n                            )}\r\n                          </Container>\r\n                        </div>\r\n                      </Paper>\r\n                    ) : null}\r\n                    {activeStep === 2 ? (\r\n                      <div>\r\n                        <Paper className={classes.paper}>\r\n                          <Typography variant=\"h6\">\r\n                            {\" \"}\r\n                            แสดงเอกสาร : ขั้นตอนที่ 2 - 2\r\n                          </Typography>\r\n                          <CardContent component={\"div\"}>\r\n                            <Typography\r\n                              className={classes.title}\r\n                              gutterBottom\r\n                              color=\"textSecondary\"\r\n                            >\r\n                              <b>Document ID:</b>{\" \"}\r\n                              <Chip\r\n                                variant=\"outlined\"\r\n                                color=\"primary\"\r\n                                label={dataFile._id}\r\n                              />\r\n                            </Typography>\r\n                            <br />\r\n                            <Typography\r\n                              className={classes.title}\r\n                              color=\"textSecondary\"\r\n                              gutterBottom\r\n                            >\r\n                              <b>ชื่อเอกสาร: </b>\r\n                              <Chip\r\n                                variant=\"outlined\"\r\n                                color=\"primary\"\r\n                                label={dataFile.name}\r\n                              />\r\n                            </Typography>\r\n                            <br />\r\n                            <Typography\r\n                              className={classes.title}\r\n                              color=\"textSecondary\"\r\n                              gutterBottom\r\n                            >\r\n                              <b>Extension: </b>\r\n                              <Chip\r\n                                variant=\"outlined\"\r\n                                color=\"primary\"\r\n                                label={dataFile.ext}\r\n                              />\r\n                            </Typography>\r\n                            <br />\r\n\r\n                            <Typography\r\n                              component=\"div\"\r\n                              className={classes.title}\r\n                              color=\"textSecondary\"\r\n                              gutterBottom\r\n                            >\r\n                              <b>Original Document:</b>\r\n                              <br />\r\n                              <br />\r\n                              <div\r\n                                style={{\r\n                                  display: \"flex\",\r\n                                  alignItems: \"center\",\r\n                                  flexWrap: \"wrap\",\r\n                                }}\r\n                              >\r\n                                <span className=\"fa-layers fa-fw\">\r\n                                  {dataFile.ext === \"application/pdf\" ? (\r\n                                    <FontAwesomeIcon icon={faFilePdf} />\r\n                                  ) : (\r\n                                    <FontAwesomeIcon icon={faFileCode} />\r\n                                  )}\r\n                                </span>\r\n                                <span>\r\n                                  {\" \"}\r\n                                  <a\r\n                                    rel=\"noreferrer\"\r\n                                    target=\"_blank\"\r\n                                    href={dataFile.file}\r\n                                  >\r\n                                    {\" \"}\r\n                                    Original Document\r\n                                  </a>\r\n                                </span>\r\n                              </div>\r\n                            </Typography>\r\n                          </CardContent>\r\n\r\n                          <hr />\r\n                          <CardActions>\r\n                            <Button\r\n                              onClick={handleReset}\r\n                              className={classes.button}\r\n                            >\r\n                              ยกเลิก\r\n                            </Button>\r\n                            {dataFile.qrcode === undefined ? (\r\n                              <Button\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                onClick={handleNextStep2}\r\n                                className={classes.button}\r\n                              >\r\n                                Signing Request\r\n                              </Button>\r\n                            ) : null}\r\n                          </CardActions>\r\n                        </Paper>\r\n                      </div>\r\n                    ) : null}\r\n                  </Typography>\r\n                  <Typography align=\"right\" style={{ textAlign: \"rignt\" }}>\r\n                    {activeStep === 1 ? (\r\n                      openNext1 === 0 ? (\r\n                        <Button\r\n                          variant=\"contained\"\r\n                          color=\"primary\"\r\n                          disabled={true}\r\n                          className={classes.button}\r\n                        >\r\n                          {activeStep === steps.length ? \"Finish\" : \"ถัดไป\"}\r\n                        </Button>\r\n                      ) : (\r\n                        <Button\r\n                          variant=\"contained\"\r\n                          color=\"primary\"\r\n                          onClick={handleNextStep1}\r\n                          className={classes.button}\r\n                        >\r\n                          {activeStep === steps.length ? \"Finish\" : \"ถัดไป\"}\r\n                        </Button>\r\n                      )\r\n                    ) : null}\r\n                    {activeStep === 3 ? (\r\n                      <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        onClick={handleNext}\r\n                        className={classes.button}\r\n                      >\r\n                        {activeStep === steps.length ? \"Finish\" : \"ถัดไป\"}\r\n                      </Button>\r\n                    ) : null}\r\n                  </Typography>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </Paper>\r\n      </main>\r\n      <Dialog\r\n        aria-labelledby=\"customized-dialog-title\"\r\n        open={open}\r\n        closeButton={false}\r\n        maxWidth={\"md\"}\r\n\r\n        // open={open}\r\n      >\r\n        <DialogTitle id=\"customized-dialog-title\" onClose={handleClose}>\r\n          ลงลายมือชื่ออิเล็กทรอนิกส์\r\n        </DialogTitle>\r\n        <DialogContent dividers>\r\n          <CardContent component={\"div\"} className={[classes.fixWidth]}>\r\n            <Typography\r\n              className={[classes.title, classes.textAlignCenter]}\r\n              color=\"textSecondary\"\r\n              gutterBottom\r\n            >\r\n              <b>กรุณา Scan QRCode: </b>\r\n              <br />\r\n\r\n              {timeCount === 0 ? (\r\n                <Countdown date={Date.now() + 180000} renderer={renderer} />\r\n              ) : (\r\n                // eslint-disable-next-line jsx-a11y/alt-text\r\n                \"\"\r\n              )}\r\n\r\n              <br />\r\n              {dataFile.qrcode === undefined ? (\r\n                \"\"\r\n              ) : (\r\n                // eslint-disable-next-line jsx-a11y/alt-text\r\n                <img src={dataFile.qrcode} />\r\n              )}\r\n              <br />\r\n              {isMobile ? (\r\n                <>\r\n                  <a\r\n                    class=\"MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary\"\r\n                    href={\"mobilesign://qrcode/\" + encodedString}\r\n                  >\r\n                    {\" \"}\r\n                    Sign with ETDA Sign\r\n                  </a>\r\n                </>\r\n              ) : (\r\n                // eslint-disable-next-line jsx-a11y/alt-text\r\n                \"\"\r\n              )}\r\n            </Typography>\r\n            <br />\r\n            <Typography\r\n              className={classes.title}\r\n              color=\"textSecondary\"\r\n              gutterBottom\r\n            >\r\n              <b>Reference Number: </b>\r\n              <Chip\r\n                variant=\"outlined\"\r\n                color=\"primary\"\r\n                label={dataFile.refNumber}\r\n              />\r\n            </Typography>\r\n            <br />\r\n\r\n            <Typography\r\n              className={classes.title}\r\n              color=\"textSecondary\"\r\n              gutterBottom\r\n            >\r\n              <b>Request ID: </b>\r\n              <Chip\r\n                variant=\"outlined\"\r\n                color=\"primary\"\r\n                label={dataFile.requestId}\r\n              />\r\n            </Typography>\r\n            <br />\r\n          </CardContent>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button autoFocus onClick={handleReset} color=\"primary\">\r\n            ยกเลิก\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </React.Fragment>\r\n  );\r\n}\r\n",{"ruleId":"39","severity":1,"message":"40","line":19,"column":8,"nodeType":"41","messageId":"42","endLine":19,"endColumn":24},{"ruleId":"39","severity":1,"message":"43","line":45,"column":8,"nodeType":"41","messageId":"42","endLine":45,"endColumn":14},{"ruleId":"39","severity":1,"message":"44","line":47,"column":10,"nodeType":"41","messageId":"42","endLine":47,"endColumn":16},{"ruleId":"39","severity":1,"message":"45","line":48,"column":8,"nodeType":"41","messageId":"42","endLine":48,"endColumn":16},{"ruleId":"39","severity":1,"message":"46","line":60,"column":5,"nodeType":"41","messageId":"42","endLine":60,"endColumn":14},{"ruleId":"39","severity":1,"message":"47","line":321,"column":10,"nodeType":"41","messageId":"42","endLine":321,"endColumn":23},{"ruleId":"39","severity":1,"message":"48","line":472,"column":27,"nodeType":"41","messageId":"42","endLine":472,"endColumn":34},{"ruleId":"39","severity":1,"message":"49","line":614,"column":9,"nodeType":"41","messageId":"42","endLine":614,"endColumn":14},{"ruleId":"39","severity":1,"message":"50","line":746,"column":9,"nodeType":"41","messageId":"42","endLine":746,"endColumn":21},{"ruleId":"39","severity":1,"message":"51","line":797,"column":9,"nodeType":"41","messageId":"42","endLine":797,"endColumn":17},{"ruleId":"39","severity":1,"message":"52","line":807,"column":9,"nodeType":"41","messageId":"42","endLine":807,"endColumn":21},{"ruleId":"53","severity":1,"message":"54","line":991,"column":35,"nodeType":"55","endLine":994,"endColumn":36},"no-unused-vars","'Base64Downloader' is defined but never used.","Identifier","unusedVar","'Select' is defined but never used.","'render' is defined but never used.","'download' is defined but never used.","'timeCount' is assigned a value but never used.","'selectedValue' is assigned a value but never used.","'dataSps' is assigned a value but never used.","'start' is assigned a value but never used.","'downloadFile' is assigned a value but never used.","'deeplink' is assigned a value but never used.","'handleChange' is assigned a value but never used.","jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/jsx-eslint/eslint-plugin-jsx-a11y/blob/HEAD/docs/rules/anchor-is-valid.md","JSXOpeningElement"]